<div class="flex flex-col border-r border-card-bg w-17 md:w-71 h-screen overflow-auto scroll-smooth transition-all duration-300 ease-in-out
    dark:bg-primary-bg drop-shadow-xl dark:drop-shadow-black/25 ">

    <div class="flex flex-col gap-3 md:gap-2.5 w-auto h-auto px-6.5 py-8.5 ">
        <a [routerLink]="['']" (click)="[onOpen('home')]">

            <div class="flex flex-row justify-between align-middle items-center ">
                <div class="flex flex-row">
                    <img class="size-6.5 " src="assets/icons/logo.svg" alt="a">
                    <span class="opacity-0 font-inter md:opacity-100 font-medium text-card-bg dark:text-white text-lg px-2 ">
                        DashdarkÂ X
                    </span>
                </div>
                <!-- <button class="cursor-pointer" (click)="onSidebarclick()" >
                    <span>
                        <img src="assets/icons/doublearrows.svg" alt="">
                    </span>
                </button> -->
            </div>
        </a>

        <div class="mt-7">
            <div class="flex justify-center align-middle w-full h-7 my-4 mb-0 
            opacity-100 md:opacity-0 md:my-0 md:mb-0 md:size-0 ">
                <img src="assets/icons/search.svg" alt="">
            </div>
            <div class="hidden md:flex md:flex-row relative w-auto justify-center items-center">
                <img src="assets/icons/search.svg"
                    class="absolute left-3 top-1/2 -translate-y-1/2 size-3.5  pointer-events-none" alt="icon" />
                <input class=" pl-8 w-full h-10 border border-card-bg/30 dark:border-gray-800 rounded-md caret-primary outline-0
            placeholder:text-card-bg bg-input-bg 
            dark:placeholder:text-gray-400 placeholder:text-xs focus:border-primary dark:text-gray-400 " type="search"
                    placeholder="Search for..." />
            </div>
        </div>

        <!-- Dashboard selection div -->
        <div class="pt-7 ">
            <button [disabled]="open() === 'dashboard'" class="flex justify-center align-middle w-full cursor-pointer
                size-auto opacity-100 md:size-0 md:opacity-100
                " (click)="openAndNavigate('dashboard', '')">
                @if(open() === 'dashboard'){
                <img src="assets\icons\colored\homeicon.svg" alt="home">
                } @else {
                <img src="assets\icons\uncolored\homeicon.svg" alt="home">
                }
            </button>
            <button [disabled]="open() === 'dashboard'" class="flex flex-row items-end w-full justify-between cursor-pointer
                opacity-0 md:opacity-100 size-0 md:size-auto md:w-full
                " (click)="openAndNavigate('dashboard', '')">
                <div class=" flex flex-row">
                    @if(open() === 'dashboard'){
                    <img src="assets\icons\colored\homeicon.svg" alt="home">
                    } @else {
                    <img src="assets\icons\uncolored\homeicon.svg" alt="home">
                    }
                    <span [ngClass]="open() === 'dashboard'
                ? 'text-primary'
                : 'text-gray-500 dark:text-neutral-400'"
                        class="opacity-0 md:opacity-100 px-1 font-medium text-sm">Dashboard</span>
                </div>
                <span class="transition-transform duration-300 ease-in-out "
                    [ngClass]="open() === 'dashboard' ? 'rotate-0' : '-rotate-90' ">
                    <img src="assets/icons/droparrow.svg" alt="drop">
                </span>
            </button>

            <nav [ngClass]="open() === 'dashboard' 
            ? 'opacity-100 max-h-40 pointer-events-auto '
            : 'opacity-0 max-h-0 pointer-events-none' "
                class="flex flex-col transition-all duration-400 ease-in-out mt-5">
                <a [routerLink]="['']"
                    [ngClass]="isActive('') ? 'border-l-3 border-primary text-primary-bg bg-active-route-bg/60 dark:bg-active-route-bg dark:text-white ' : 'px-2 text-gray-500 dark:text-neutral-400'"
                    class=" text-left text-sm px-1.5 md:px-4 py-2.5 rounded-sm font-normal">
                    <span class="md:hidden dark:fill-white "><img class="size-5" src="assets/icons/dashboard.svg"
                            alt="dash"></span>
                    <span class="hidden md:inline">Home</span>
                    <!-- Home -->
                </a>
                <a [routerLink]="['/reports']"
                    [ngClass]="isActive('/reports') ? 'border-l-3 border-primary text-primary-bg bg-active-route-bg/60 dark:bg-active-route-bg dark:text-white ' : 'px-2 text-gray-500 dark:text-neutral-400'"
                    class=" text-left text-sm px-1.5 md:px-4 py-2.5 rounded-sm font-normal">
                    <span class="md:hidden"><img class="size-5" src="assets/icons/reports.svg" alt="reports"></span>
                    <span class="hidden md:inline">Reports</span>
                    <!-- Reports -->
                </a>
                <a [routerLink]="['/tasks']"
                    [ngClass]="isActive('/tasks') ? 'border-l-3 border-primary text-primary-bg bg-active-route-bg/60 dark:bg-active-route-bg dark:text-white ' : 'px-2 text-gray-500 dark:text-neutral-400'"
                    class=" text-left text-sm px-1.5 md:px-4 py-2.5 rounded-sm font-normal">
                    <span class="md:hidden"><img class="size-5" src="assets/icons/tasks.svg" alt="tasks"></span>
                    <span class="hidden md:inline">Tasks</span>
                    <!-- Tskas -->
                </a>
                <a [routerLink]="['/products']"
                    [ngClass]="isActive('/products') ? 'border-l-3 border-primary text-primary-bg bg-active-route-bg/60 dark:bg-active-route-bg dark:text-white ' : 'px-2 text-gray-500 dark:text-neutral-400'"
                    class=" text-left text-sm px-1.5 md:px-4 py-2.5 rounded-sm font-normal">
                    <span class="md:hidden"><img class="size-5" src="assets/icons/cart.svg" alt="tasks"></span>
                    <span class="hidden md:inline">Products</span>
                </a>
            </nav>
        </div>


        <!-- Users selection div -->
        <div>
            <!-- (click)="onOpen('users')"  -->
            <button [disabled]="open() === 'users'" class="flex justify-center align-middle w-full cursor-pointer
                size-auto opacity-100 md:size-0 md:opacity-100
                " (click)="openAndNavigate('users', '/users/view')">
                @if(open() === 'users'){
                <img src="assets\icons\colored\usericon.svg" alt="user">
                } @else {
                <img src="assets\icons\uncolored\usericon.svg" alt="user">
                }
            </button>
            <button [disabled]="open() === 'users'" class="flex flex-row items-center w-full justify-between cursor-pointer
                opacity-0 md:opacity-100 size-0 md:size-auto md:w-full
                " (click)="openAndNavigate('users', 'users/view')">
                <div class=" flex flex-row ">
                    @if(open() === 'users'){
                    <img src="assets\icons\colored\usericon.svg" alt="user">
                    } @else {
                    <img src="assets\icons\uncolored\usericon.svg" alt="user">
                    }
                    <span [ngClass]="open() === 'users'
                ? 'text-primary'
                : 'text-gray-500 dark:text-neutral-400'"
                        class="opacity-0 md:opacity-100 px-1 font-bold text-sm">Users</span>
                </div>
                <span class="transition-transform duration-300 ease-in-out"
                    [ngClass]="open() === 'users' ? ' rotate-0' : ' -rotate-90' ">
                    <img src="assets/icons/droparrow.svg" alt="drop">

                </span>
            </button>

            <nav [ngClass]="open() === 'users'
            ? 'opacity-100 max-h-30 pointer-events-auto' 
            : 'opacity-0 max-h-0 pointer-events-none' "
                class="flex flex-col transition-all duration-400 ease-in-out mt-5">
                <a [routerLink]="['users/view']"
                    [ngClass]="isActive('/users/view') ? 'border-l-3 border-primary text-primary-bg bg-active-route-bg/60 dark:bg-active-route-bg dark:text-white ' : 'px-2 text-gray-500 dark:text-neutral-400'"
                    class=" text-left text-sm px-1.5  md:px-4 py-2.5 rounded-sm font-normal">
                    <span class="md:hidden  "><img class=" size-5" src="assets/icons/view.svg" alt="view"></span>
                    <span class="hidden md:inline">View Users</span>
                </a>
                <a [routerLink]="['/users/add']"
                    [ngClass]="isActive('/users/add') ? 'border-l-3 border-primary text-primary-bg bg-active-route-bg/60 dark:bg-active-route-bg dark:text-white ' : 'px-2 text-gray-500 dark:text-neutral-400'"
                    class=" text-left text-sm px-1.5 md:px-4  py-2.5 rounded-sm font-normal">
                    <span class="md:hidden "><img class="   size-5" src="assets/icons/add-user.svg" alt=""></span>
                    <span class="hidden md:inline">Add User</span>
                </a>
            </nav>
        </div>

        <!-- Users selection div -->
        <div>
            <!-- (click)="onOpen('users')"  -->
            <button [disabled]="open() === 'features'" class="flex justify-center align-middle w-full cursor-pointer
                size-auto opacity-100 md:size-0 md:opacity-100
                " (click)="openAndNavigate('users', '/users/view')">
                @if(open() === 'users'){
                <img src="assets\icons\colored\usericon.svg" alt="user">
                } @else {
                <img src="assets\icons\uncolored\usericon.svg" alt="user">
                }
            </button>
            <button [disabled]="open() === 'features'" class="flex flex-row items-center w-full justify-between cursor-pointer
                opacity-0 md:opacity-100 size-0 md:size-auto md:w-full
                " (click)="openAndNavigate('features', 'users/view')">
                <div class=" flex flex-row ">
                    @if(open() === 'features'){
                    <img src="assets\icons\colored\usericon.svg" alt="user">
                    } @else {
                    <img src="assets\icons\uncolored\usericon.svg" alt="user">
                    }
                    <span [ngClass]="open() === 'features'
                ? 'text-primary'
                : 'text-gray-500 dark:text-neutral-400'"
                        class="opacity-0 md:opacity-100 px-1 font-bold text-sm">Features</span>
                </div>
                <span class="transition-transform duration-300 ease-in-out"
                    [ngClass]="open() === 'features' ? ' rotate-0' : ' -rotate-90' ">
                    <img src="assets/icons/droparrow.svg" alt="drop">

                </span>
            </button>

            <nav [ngClass]="open() === 'features'
            ? 'opacity-100 max-h-30 pointer-events-auto' 
            : 'opacity-0 max-h-0 pointer-events-none' "
                class="flex flex-col transition-all duration-400 ease-in-out mt-5">
                <a [routerLink]="['users/view']"
                    [ngClass]="isActive('/users/view') ? 'border-l-3 border-primary text-primary-bg bg-active-route-bg/60 dark:bg-active-route-bg dark:text-white ' : 'px-2 text-gray-500 dark:text-neutral-400'"
                    class=" text-left text-sm px-1.5  md:px-4 py-2.5 rounded-sm font-normal">
                    <span class="md:hidden  "><img class=" size-5" src="assets/icons/view.svg" alt="view"></span>
                    <span class="hidden md:inline">View Users</span>
                </a>
                <a [routerLink]="['/users/add']"
                    [ngClass]="isActive('/users/add') ? 'border-l-3 border-primary text-primary-bg bg-active-route-bg/60 dark:bg-active-route-bg dark:text-white ' : 'px-2 text-gray-500 dark:text-neutral-400'"
                    class=" text-left text-sm px-1.5 md:px-4  py-2.5 rounded-sm font-normal">
                    <span class="md:hidden "><img class="   size-5" src="assets/icons/add-user.svg" alt=""></span>
                    <span class="hidden md:inline">Add User</span>
                </a>
            </nav>
        </div>



        <!-- divider div -->
    </div>
    <div class="border text-gray-500/50 dark:border-neutral-400/50 "></div>
    <!-- settings div -->
    <div class="flex flex-col gap-5 w-auto h-auto px-5 py-7">
        <div>
            <button [disabled]="open() === 'settings'"
                class="flex flex-row items-center w-full justify-center md:justify-between cursor-pointer"
                (click)="onRoute('settings')">
                <div class=" flex flex-row items-center justify-center  ">
                    @if(open() === 'settings'){
                    <img src="assets\icons\colored\settingsicon.svg" alt="si">
                    } @else {
                    <img src="assets\icons\uncolored\settingsicon.svg" alt="si">
                    }
                    <span [ngClass]="open() === 'settings'
                ? 'text-primary'
                : 'text-gray-500 dark:text-neutral-400'"
                        class="hidden md:inline px-1 font-bold text-sm">Settings</span>
                </div>
                <!-- <span class="-rotate-90 hidden md:inline">
                    <img src="assets/icons/droparrow.svg" alt="">
                </span> -->
            </button>
        </div>
        <div class="py-2">
            <button [disabled]="open() === 'profile'"
                class="flex flex-row  items-center w-full justify-between cursor-pointer" (click)="onRoute('profile')">
                <div class="flex fex-row items-center">
                    <div class=" rounded-full overflow-hidden size-7 md:size-9 bg-contain  ">
                        <img class="-mt-1" src="assets/images/OIP.webp" alt="">
                    </div>
                    <div class="md:flex flex-col items-start px-2 hidden ">
                        <span [ngClass]="open() === 'profile' ? 'text-primary' : 'text-gray-700 dark:text-neutral-100' "
                            class=" text-sm font-bold ">John Doe</span>
                        <span class="text-gray-500 dark:text-neutral-400 text-xs ">Account Settings</span>
                    </div>
                </div>
                <!-- <span class="-rotate-90">
                    <img src="assets/icons/droparrow.svg" alt="">
                </span> -->
            </button>
        </div>
    </div>
</div>